\documentclass{standalone}

\input{../../fig-config.tex}

% plots
\usepackage{tikz}
\usetikzlibrary{arrows}
\usetikzlibrary{arrows.meta,positioning,calc,3d,fit}
\usetikzlibrary{automata}
\usepackage{tikz-3dplot}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}

\begin{document}
\begin{tikzpicture}[node distance=2.2cm, every state/.style={minimum size=1cm, very thick, fill=gray!10}, auto]

    % States
    \node[state] (Z1) {$Z_1$};
    \node[state] (Z2) [right of=Z1] {$Z_2$};
    \node (dots) [right of=Z2, scale=2] {$\dots$};  % Increased size of dots
    \node[state] (Zt) [right of=dots] {$Z_t$};
    \node (dots1) [right of=Zt, scale=2] {$\dots$};  % Increased size of dots
    \node[state] (X1) [below of=Z1] {$X_1$};
    \node[state] (X2) [right of=X1] {$X_2$};
    \node (dots2) [right of=X2, scale=2] {$\dots$};  % Increased size of dots
    \node[state] (Xt) [right of=dots2] {$X_t$};
    \node (dots3) [right of=Xt, scale=2] {$\dots$};  % Increased size of dots

    % Transitions outside the box
    \path[->, >={Stealth},very thick] 
    % From state 0 to state 1
    (Z1) edge node {} (Z2)
    (Z2) edge node {} (dots)
    (dots) edge node {} (Zt)
    (Zt) edge node {} (dots1)
    (Z1) edge node {} (X1)
    (Z2) edge node {} (X2)
    (Zt) edge node {} (Xt);

    % Hidden state box with gray and opacity
    \begin{scope}[gray, opacity=0.8] % Set gray and opacity
        \node[draw=gray, very thick, fill=gray!10, rounded corners, fit=(Z1) (Z2) (Zt) (dots1), inner sep=0.5cm] {};
    \end{scope}



\end{tikzpicture}


\end{document}