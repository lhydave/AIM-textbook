
\documentclass[border=3pt]{standalone}

\input{../../fig-config.tex}

% plots
\usepackage{tikz}
\usetikzlibrary{arrows}
\usetikzlibrary{arrows.meta,positioning,calc,3d}
\usepackage{tikz-3dplot}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}

\begin{document}
\begin{tikzpicture}[>=Stealth,thick,rotate=-20]

% Draw convex sets C and D
\draw[thick, Orchid,fill=Orchid!40] (-3, 0) ellipse (1.5 and 3) node[left] {$C$};
\draw[thick, TealBlue,fill=TealBlue!40] (3, 0) ellipse (1.5 and 2) node[right] {$D$};

% Points c and d
\filldraw[Orchid] (-1.5, 0) circle (2pt) node[below,xshift=0.1cm] {$c$};
\filldraw[TealBlue] (1.5, 0) circle (2pt) node[below left] {$d$};

\draw[gray!60] (-0.2,0) -- (-0.2,0.2) -- (0,0.2);

% Line connecting c and d
\draw[very thick, ->,Salmon!80] (-1.5, 0) -- (1.5, 0) node[midway, above=0.2cm,xshift=-0.4cm] {$a$};

% Midpoint
\filldraw[black] (0, 0) circle (2pt) node[below] {};

% Perpendicular bisector (Separating Hyperplane)
\draw[dashed,very thick] (0, -3) -- (0, 3) node[right] {$\ell$};

% Additional vectors from c and d
\filldraw[TealBlue] (1.7, 0.9978) circle (2pt) node[above,xshift=-0.1cm] {$u$};
\draw[->, very thick] (1.5, 0) --  node[right] {$u-d$} (1.7, 0.9978);

\filldraw[TealBlue!40] (0.9, 1.5) circle (2pt) node[above,xshift=-0.1cm] {$u$};
\draw[->, very thick,gray!40] (1.5, 0) --  node[left] {$u-d$} (0.9, 1.5);

\end{tikzpicture}
\end{document}
