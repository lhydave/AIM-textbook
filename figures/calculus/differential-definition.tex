
\documentclass{standalone}
\input{../../fig-config.tex}

% plots
\usepackage{tikz}
\usetikzlibrary{arrows}
\usetikzlibrary{arrows.meta,positioning,calc,3d}
\usepackage{tikz-3dplot}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}

\begin{document}
\begin{tikzpicture}[thick]
    \draw[-stealth] (-1,0) -- (5,0) node[right] {$x$};
    \draw[-stealth] (0,-1) -- (0,5) node[above] {$y$};
    \draw (2,0) node[below] {$x_0$};
    \draw (3,0) node[below] {$x$};
    \draw[dashed,stealth-stealth,gray] (2,1) -- (3,1) node[midway,below] {$x-x_0$};
    \draw[dashed,stealth-stealth,gray] (3,1) -- (3,2.5) node[midway,right] {$f(x)-f(x_0)$};
    \draw[TealBlue!50!gray!80] (2-1,1-1*1.5) -- (2+2.5,1+2.5*1.5) node[right] {$\frac{f(x)-f(x_0)}{x-x_0}$};
    \draw[dashed,TealBlue] (2-1,1-1) -- (2+2.5,1+2.5) node[right] {$\d f_{x_0}(1)$};
    \draw[-stealth,TealBlue] (2+2.3,1+2.3*1.5-0.2) -- (2+2.3,1+2.3+0.2) {};
    \draw[domain=-0.5:4,very thick,Orchid] plot (\x,{0.5*\x*\x-\x+1});

\end{tikzpicture}
\end{document}