\documentclass{standalone}

\input{../../fig-config.tex}

% plots
\usepackage{tikz}
\usetikzlibrary{arrows}
\usetikzlibrary{arrows.meta,positioning,calc,3d}
\usepackage{tikz-3dplot}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}

\begin{document}

\begin{tikzpicture}
    % Encoder box with more rounded corners
    \draw[rounded corners=12pt, fill=Orchid!40,very thick] (0,0) rectangle (4,-1.5);
    \node[font=\large] at (2,-0.7) {\textit{双向编码器}};

    % Arrows into encoder (vertical, with Latex arrowheads)
    \draw[-Latex, thick] (0.7, -2) node[below] {A} -- (0.7, -1.5);
    \draw[-Latex, thick] (0.7+0.65*1, -2) node[below] {\underline{\phantom{B}}} -- (0.7+0.65*1, -1.5);
    \draw[-Latex, thick] (0.7+0.65*2, -2) node[below] {C} -- (0.7+0.65*2, -1.5);
    \draw[-Latex, thick] (0.7+0.65*3, -2) node[below] {\underline{\phantom{D}}} -- (0.7+0.65*3, -1.5);
    \draw[-Latex, thick] (0.7+0.65*4, -2) node[below] {E} -- (0.7+0.65*4, -1.5);
    \draw[Latex-Latex, very thick] (0.7-0.3, -1.2) -- (0.7+0.65*4+0.3, -1.2);
    
    % Arrow between encoder and decoder (with Latex arrowhead)
    % Thicker, colored arrow between encoder and decoder
    \draw[-{Latex[length=3.5mm,width=8mm]}, line width=4mm, draw=cyan!60] (4.15,-0.75) -- (5,-0.75);
    
    % Decoder box with more rounded corners
    \draw[rounded corners=12pt, fill=TealBlue!40,very thick] (5.1,0) rectangle (9.1,-1.5);
    \node[font=\large] at (7.1,-0.7) {\textit{自回归解码器}};
    
   % Arrows into encoder (vertical, with Latex arrowheads)
    \draw[-Latex, thick] (5.9, 0) -- (5.9, 0.5) node[above] {A};
    \draw[-Latex, thick] (5.9+0.65*1, 0) -- (5.9+0.65*1, 0.5) node[above] {B};
    \draw[-Latex, thick] (5.9+0.65*2, 0) -- (5.9+0.65*2, 0.5) node[above] {C};
    \draw[-Latex, thick] (5.9+0.65*3, 0) -- (5.9+0.65*3, 0.5) node[above] {D};
    \draw[-Latex, thick] (5.9+0.65*4, 0) -- (5.9+0.65*4, 0.5) node[above] {E};

   % Arrows into encoder (vertical, with Latex arrowheads)
   \draw[-Latex, thick] (5.9, -2) node[below] {<s>} -- (5.9, -1.5);
   \draw[-Latex, thick] (5.9+0.65*1, -2) node[below] {A} -- (5.9+0.65*1, -1.5);
   \draw[-Latex, thick] (5.9+0.65*2, -2) node[below] {B} -- (5.9+0.65*2, -1.5);
   \draw[-Latex, thick] (5.9+0.65*3, -2) node[below] {C} -- (5.9+0.65*3, -1.5);
   \draw[-Latex, thick] (5.9+0.65*4, -2) node[below] {D} -- (5.9+0.65*4, -1.5);

   \draw[-Latex, very thick] (5.9-0.3, -1.2) -- (5.9+0.65*4+0.3, -1.2);

\end{tikzpicture}
\end{document}
