
\documentclass[border=1mm]{standalone}

\input{../../fig-config.tex}

% plots
\usepackage{tikz}
\usetikzlibrary{arrows}
\usetikzlibrary{arrows.meta,positioning,calc,3d}
\usepackage{tikz-3dplot}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}

\begin{document}
\begin{tikzpicture}[very thick,>=stealth,scale=2]

    \draw[fill=TealBlue, fill opacity=0.6, draw=none]
    (0, 0) to[out=10, in=160] (2.25,-0.15) to[out=70, in=210] (3.49,1.39) to[out=170, in=60] cycle;
    
    \draw[fill=Orchid, fill opacity=0.6, draw=none]
    (2.25,-0.15) to[out=-53, in=120] (2.8, -1) to [out=40, in=190] (4.5, 0) to[out=120, in=-45] (3.49,1.39) to[out=210, in=70] cycle;

    \draw[fill=TealBlue, fill opacity=0.6, draw=none] (2.25,-0.15) to[out=-20, in=140] (3.3, -0.8) to [out=60, in=190] (5, 0.5) to[out=130, in=-10] (3.49,1.39) to[out=210, in=70] cycle;

    \draw[fill=Orchid, fill opacity=0.6, draw=none]
    (0,1.5) to[out=-20, in=127] (2.25, -0.15) to [out=70, in=210] (3.49, 1.39) to[out=135, in=-30] (2,2.5) to [out=180, in=50] cycle;

    \newcommand{\intersectcolor}{black!40!Orchid}

    \draw[\intersectcolor] (2.25, -0.15) to[out=70, in=210] (3.49, 1.39);

    \node[Orchid] at (0.7, 1.6) {$h_1(x)=0$};
    \node[TealBlue] at (0.7, 0.3) {$h_2(x)=0$};
    
    \draw[Salmon] (3,1.045) -- ++(40:1.3);
    \draw[Salmon] (3,1.045) -- ++(220:2) node[below] {$M^\perp$};

    \draw[Orchid,->] (3,1.045) -- ++(30:1) node[right] {$\nabla h_1(x^*)^\t$};
    \draw[TealBlue,->] (3,1.045) -- ++(90:1) node[above] {$\nabla h_2(x^*)^\t$};

    \node[fill=\intersectcolor,draw=none,label={below right:\textcolor{\intersectcolor}{$x^*$}},circle,inner sep=2pt] at (3,1.045) {};
\end{tikzpicture}
\end{document}
